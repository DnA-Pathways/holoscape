# A declaration of an instance that this hApp needs to have installed.
# `name` here is just an internal name to reference the given DNA inside the rest of this bundle.
[[instances]]
name = "Identity Manager"
id = "__identity-manager"
dna_hash = "QmTnymrEAtfzV2tTv2kRixNzUTYFurA4NEQ8gtMRmsy9bW"
# Optional, might also be retrieved from hchc via hash long-term
uri = "file:./personas-profiles.dna.json"

[[instances]]
name = "Peer Chat"
id = "peer-chat-public"
dna_hash = "QmSDkLm394rXfxLN1tu1cd8BtdFAMTgT5iWAXsMKQ8sMvu"
uri = "file:./peer-chat.dna.json"

[[bridges]]
handle = "p-p-bridge"
caller_id = "peer-chat-public"
callee_id = "__identity-manager"


[[UIs]]
name = "Peer Chat"
id = "peer-chat-ui"
ui_bundle_hash = "Qm34abcde"
# Optional, might also be retrieved from hchc via hash long-term
uri = "file:./peer-chat-ui.zip"

[[UIs.instance_references]]
ui_handle = "identity-manager"
instance_id = "__identity-manager"

# "__peer-chat" is the instance identifier in this config (declared above)
# that needs to be linked to the handle "peer-chat" which is used inside
# the definitions of the peer-chat UI.  This reference creates a link for that.
# thus we could link a different implementation of peer-chat to use the same UI
[[UIs.instance_references]]
ui_handle = "peer-chat-ui"
instance_id = "peer-chat-public"

[[UIs]]
name = "Identity Manager"
id = "identity-manager-ui"
ui-bundle-hash = "Qm34abcde"
# Optional, might also be retrieved from hchc via hash long-term
uri = "file:./identity-manager-ui.zip"

[[UIs.instance_references]]
ui_handle = "identity-manager-ui"
instance_id = "__identity-manager"

[[UIs.instance_references]]
ui_handle = "peer-chat-ui"
instance_id = "peer-chat-public"
